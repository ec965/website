---
import Nav from "../components/Nav.astro";

export interface Props {
  title: string;
}

const { title } = Astro.props as Props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" href="/styles/reset.css" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>

  <body>
    <Nav pageTitle={title} />
    <div class="container">
      <slot />
    </div>

    <script is:inline>
      let theme = localStorage.getItem("theme");
      let root = document.documentElement;
      let penguin = document.getElementById("penguin");
      let darkTheme = "dark-theme";

      if (!theme) theme = "light";

      if (theme === "light") {
        root.classList.remove(darkTheme);
        if (penguin) {
          penguin.classList.remove("invert");
        }
      } else {
        root.classList.add(darkTheme);
        if (penguin) {
          penguin.classList.add("invert");
        }
      }
    </script>

    <style>
      div.container {
        padding-bottom: 2vh;
      }
    </style>
    <style lang="scss" is:global>
      :root {
        --primary: #282c34;
        --secondary: #6f1cc5;
        --background: #f0f0f0;
        --background-secondary: #ddd;
        --font-sans-serif: -apple-system, blinkmacsystemfont, avenir next,
          avenir, segoe ui, helvetica neue, helvetica, cantarell, ubuntu, roboto,
          noto, arial, sans-serif;
        --font-serif: iowan old style, apple garamond, baskerville,
          times new roman, droid serif, times, source serif pro, serif,
          apple color emoji, segoe ui emoji, segoe ui symbol;
        --font-mono: menlo, consolas, monaco, liberation mono, lucida console,
          monospace;

        --font-size-xl: 2rem;
        --font-size-lg: 1.6rem;
        --font-size-md: 1.4rem;
        --font-size-sm: 1.2rem;
        --font-size-xs: 1rem;

        --hover-time: 0.15s;
        --border-radius: 8px;
        --shadow-color: rgb(0 0 0 / 40%);
      }

      .dark-theme {
        --background: #1a1b1d;
        --background-secondary: #444;
        --primary: #f0f0f0;
        --secondary: #a86be7;
      }

      html {
        color: var(--primary);
        background: var(--background);
        font-family: var(--font-sans-serif);
      }

      body {
        margin: auto;
        max-width: 50rem;
        line-height: 1.2;
      }

      * {
        box-sizing: border-box;
      }

      h1 {
        font-size: var(--font-size-xl);
      }

      h2 {
        font-size: var(--font-size-lg);
      }

      h3 {
        font-size: var(--font-size-md);
      }

      h4 {
        font-size: var(--font-size-sm);
      }

      h5 {
        font-size: var(--font-size-xs);
      }

      p {
        font-size: var(--font-size-xs);
      }

      code {
        font-family: var(--font-mono);
      }

      strong {
        font-weight: bold;
      }

      a {
        text-decoration-color: var(--background);
        transition: text-decoration var(--hover-time) ease;
        color: var(--secondary);

        &:hover {
          text-decoration: underline;
          text-decoration-color: var(--primary);
        }
      }

      ul {
        list-style-type: disc;
        list-style-position: inside;
      }

      ol {
        list-style-type: decimal;
        list-style-position: inside;
      }
    </style>
  </body>
</html>
