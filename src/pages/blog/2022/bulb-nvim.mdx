---
title: bulb.nvim
slug: bulb-nvim
date: 5 December 2022
layout: "../../../layouts/Md.astro"
tags: ["dev"]
---

_This is part of a series of blog posts on Fennel and Neovim.
You can find [part 1 (Researching Lispy Neovim)](/blog/2022/lispy-neovim) and
[part 2 (Using Neovim as a Fennel Compiler)](/blog/2022/using-neovim-as-a-fennel-compiler/) on this blog._

Well, I finally got around to making it.
I'm presenting [`bulb.nvim`](https://github.com/ec965/bulb.nvim), my own
Fennel Neovim plugin.
It's built on the foundation of the compile -> run cycle
Most other Fennel Neovim plugins use automatic diff detection and recompilation 
but with manual recompilation, we get zero overhead at runtime.

Bulb combines different ideas about caching from [`impatient.nvim`](https://github.com/lewis6991/impatient.nvim), 
[`packer.nvim`](https://github.com/wbthomason/packer.nvim), and [`hotpot.nvim`](https://github.com/rktjmp/hotpot.nvim).

## `package.preload`

overriding the package searchers

## Detecting Macros

shimming the fennel compiler's macro searcher

how i got around macro detection.

## Bootstrapping with Lua

how i got bulb to compile itself by injecting compiled files directly into package.preload
